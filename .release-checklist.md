# SQLRustGo 发布检查清单

## 文档信息
- **版本**: v1.0
- **创建日期**: 2026-02-21
- **适用范围**: 所有版本发布
- **要求**: 发布前必须逐条勾选，确保所有步骤都已完成

## 发布前检查 (Pre-Release)

### 1. 分支准备
- [ ] 确认 `develop` 分支所有功能已完成
- [ ] 从 `develop` 创建 `rc/vX.X.X` 分支
- [ ] 确认 `rc/vX.X.X` 分支已推送到远程

### 2. 门禁检查
- [ ] CI 100% 通过
- [ ] 测试覆盖率达标 (≥ 80%)
- [ ] 安全扫描通过 (无高危漏洞)
- [ ] 依赖审计通过
- [ ] 文档完整性检查通过
- [ ] 代码质量检查通过 (clippy, rustfmt)

### 3. 版本信息
- [ ] 确认版本号正确 (`vX.X.X`)
- [ ] 确认 `VERSION` 文件已更新
- [ ] 确认 `CHANGELOG.md` 包含当前版本
- [ ] 确认 `CURRENT_VERSION.md` 已更新

### 4. 发布证据
- [ ] 创建 `docs/releases/vX.X.X/` 目录
- [ ] 生成 `00-release-summary.md`
- [ ] 生成 `01-release-notes.md`
- [ ] 生成 `03-test-report.md`
- [ ] 生成 `04-coverage-report.md`
- [ ] 生成 `05-security-scan-report.md`
- [ ] 生成 `07-dependency-audit.md`
- [ ] 生成 `10-approval-record.md`

### 5. 审批流程
- [ ] QA Lead 审批
- [ ] Technical Lead 审批
- [ ] Product Owner 审批
- [ ] Release Manager 审批

## 发布执行 (Release Execution)

### 6. RC → Release
- [ ] 从 `rc/vX.X.X` 创建 `release/vX.X.X` 分支
- [ ] 确认 `release/vX.X.X` 分支已推送到远程
- [ ] 执行最终门禁检查

### 7. Tag 创建
- [ ] 创建不可变 Tag: `git tag -a vX.X.X -m "Release vX.X.X"`
- [ ] 推送 Tag: `git push origin vX.X.X`
- [ ] 确认 Tag 已正确创建
- [ ] 确认 Tag 保护规则已启用

### 8. GitHub Release
- [ ] 发布 GitHub Release
- [ ] 上传构建产物
- [ ] 填写发布说明
- [ ] 确认 Release 页面显示正确

### 9. Main 分支更新
- [ ] 创建从 `release/vX.X.X` 到 `main` 的 PR
- [ ] 获得必要的审批
- [ ] 合并 PR 到 `main`
- [ ] 确认 `main` 分支已更新

### 10. 分支冻结
- [ ] 冻结 `rc/vX.X.X` 分支
- [ ] 冻结 `release/vX.X.X` 分支
- [ ] 确认分支保护规则已启用

## 发布后检查 (Post-Release)

### 11. 验证
- [ ] 验证安装: `cargo install --git <repo>`
- [ ] 验证构建: `cargo build --release`
- [ ] 验证运行: 基本功能测试
- [ ] 验证文档: 在线文档访问

### 12. 后续准备
- [ ] 从 `main` 创建下一个 `develop` 分支（如有需要）
- [ ] 更新版本号到下一个开发版本
- [ ] 清理临时分支（如有必要）
- [ ] 通知团队发布完成

### 13. 发布回顾
- [ ] 进行发布回顾会议
- [ ] 识别问题和改进点
- [ ] 更新发布流程文档
- [ ] 记录经验教训

## 合规性检查

### 14. 政策遵守
- [ ] 遵守 `release-policy.md` 中的所有规则
- [ ] 未删除任何发布 Tag
- [ ] 未绕过 PR 流程
- [ ] 未直接推送受保护分支
- [ ] 发布证据已完整归档

### 15. 审计准备
- [ ] 所有发布证据可审计
- [ ] 所有审批记录完整
- [ ] 所有流程步骤有记录
- [ ] 所有变更可追溯

## 紧急情况处理

### 16. 回滚计划
- [ ] 确认回滚步骤
- [ ] 准备回滚脚本
- [ ] 确认回滚权限
- [ ] 建立回滚决策流程

## 发布完成确认

### 17. 最终确认
- [ ] 所有检查项已完成
- [ ] 所有文档已更新
- [ ] 所有分支已正确处理
- [ ] 所有 Tag 已正确创建
- [ ] 发布流程已完整执行

---

**发布信息**

| 项目 | 信息 |
|------|------|
| 版本 | vX.X.X |
| 发布日期 | YYYY-MM-DD |
| Release Manager | @yinglichina8848 |
| QA Lead | @sonaheartopen |
| Technical Lead | @yinglichina8848 |
| Product Owner | @yinglichina8848 |

**发布状态**
- [ ] 准备中
- [ ] 进行中
- [ ] 已完成
- [ ] 已回滚

**备注**

在此记录发布过程中的特殊情况或备注：

---

**严格遵守发布政策**

本检查清单必须严格按照 `docs/governance/release-policy.md` 执行，不允许绕过任何步骤。

任何违反发布政策的行为都将导致发布流程停止并进行审查。

**SQLRustGo 团队**
2026-02-21