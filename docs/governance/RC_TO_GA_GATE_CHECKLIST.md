# RC → GA 关门清单模板（企业级可审计版）

## 🔐 0️⃣ 关门原则

| 原则 | 要求 | 状态 | 检查人 | 日期 |
|------|------|------|--------|------|
| 功能冻结 | RC 期间禁止功能新增 | ⏳ | | |
| 修改限制 | 仅允许 bugfix / 文档修复 | ⏳ | | |
| 流程合规 | 所有修改必须走 PR | ⏳ | | |
| 质量保证 | 必须通过全部 CI | ⏳ | | |

## 🧱 1️⃣ 代码层 Gate

### 1.1 功能完整性

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| 功能实现 | 所有 v1.0 Scope 功能已实现 | ⏳ | | | |
| 代码清洁 | 无 TODO / FIXME 残留 | ⏳ | | | |
| 特性标志 | Feature Flag 状态确认 | ⏳ | | | |

### 1.2 测试

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| 单元测试 | 单元测试全部通过 | ⏳ | | | |
| 集成测试 | 集成测试全部通过 | ⏳ | | | |
| 回归测试 | 回归测试完成 | ⏳ | | | |
| E2E 测试 | E2E 测试通过（如适用） | ⏳ | | | |
| 覆盖率 | 测试覆盖率 ≥ 目标值（例如 80%） | ⏳ | | | |

**记录：**
- 测试报告路径：
- 覆盖率报告路径：

### 1.3 质量扫描

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| 静态扫描 | 静态代码扫描通过 | ⏳ | | | |
| 安全漏洞 | 无 Critical / High 级别安全漏洞 | ⏳ | | | |
| 依赖安全 | 依赖库安全检查通过 | ⏳ | | | |
| License 合规 | License 合规检查通过 | ⏳ | | | |

**记录：**
- 安全扫描报告路径：
- 依赖扫描路径：

## ⚙️ 2️⃣ 工程层 Gate

### 2.1 CI/CD

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| CI 状态 | 所有 CI Job 通过 | ⏳ | | | |
| 发布构建 | Release 构建成功 | ⏳ | | | |
| 构建复现 | 构建产物可复现 | ⏳ | | | |
| 版本一致性 | 版本号一致 | ⏳ | | | |

### 2.2 分支状态

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| 分支合并 | baseline 分支无未合并 PR | ⏳ | | | |
| 代码审查 | 无 pending review | ⏳ | | | |
| 检查状态 | 无 failing check | ⏳ | | | |
| 版本标记 | Tag 准备就绪 | ⏳ | | | |

## 📚 3️⃣ 文档层 Gate

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| README | README 更新完成 | ⏳ | | | |
| CHANGELOG | CHANGELOG 更新完成 | ⏳ | | | |
| 用户文档 | 用户文档更新完成 | ⏳ | | | |
| 开发者文档 | Developer 文档同步 | ⏳ | | | |
| API 文档 | API 文档同步 | ⏳ | | | |
| Release Notes | Release Notes 完成 | ⏳ | | | |

## 🧪 4️⃣ 验收 Gate

### 4.1 内部验收

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| QA 验收 | QA 验收通过 | ⏳ | | | |
| 产品确认 | 产品确认 | ⏳ | | | |
| 技术确认 | 技术负责人确认 | ⏳ | | | |

**签字：**
- QA:
- Tech Lead:
- Product:
- 日期:

### 4.2 性能指标

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| 响应时间 | 响应时间符合 SLA | ⏳ | | | |
| 并发测试 | 并发测试达标 | ⏳ | | | |
| 资源占用 | 资源占用符合预期 | ⏳ | | | |

## 🔒 5️⃣ 冻结动作

### 5.1 创建正式 Tag

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| Tag 创建 | `git tag v1.0.0` | ⏳ | | | |
| Tag 推送 | `git push origin v1.0.0` | ⏳ | | | |
| Tag 校验 | Tag 校验成功 | ⏳ | | | |

### 5.2 生成发布目录

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| 目录创建 | 发布证据目录创建 | ⏳ | | | |
| 报告归档 | 所有报告归档 | ⏳ | | | |
| 页面发布 | Release 页面发布 | ⏳ | | | |

## 🟢 6️⃣ GA 宣布

| 检查项 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|--------|------|------|--------|------|------|
| 基线标记 | baseline 标记为 GA | ⏳ | | | |
| 版本更新 | CURRENT_VERSION 更新 | ⏳ | | | |
| 公告发布 | 发布公告完成 | ⏳ | | | |

## 二、发布证据目录标准结构（不可变区）

### 建议结构

```
docs/
  releases/
    v1.0.0/
      00-release-summary.md
      01-release-notes.md
      02-scope-definition.md
      03-test-report.md
      04-coverage-report.md
      05-security-scan-report.md
      06-performance-report.md
      07-dependency-audit.md
      08-license-compliance.md
      09-ci-build-log.md
      10-approval-record.md
```

### 📘 每个文件说明

#### 00-release-summary.md
- 发布版本号
- 发布时间
- Git Tag
- Commit Hash
- 发布负责人
- 构建环境

#### 01-release-notes.md
- 新功能
- Bug 修复
- 破坏性变更
- 已知问题

#### 03-test-report.md
- 测试范围
- 测试环境
- 通过率
- 失败记录

#### 04-coverage-report.md
- 覆盖率截图
- 覆盖率百分比
- 对比 RC 前版本

#### 05-security-scan-report.md
- 扫描工具
- 扫描时间
- 结果摘要
- 漏洞级别统计

#### 10-approval-record.md
```
Release Approval

Version: v1.0.0
Date: 2026-02-21

QA:        ✔ 通过
Tech Lead: ✔ 通过
Product:   ✔ 通过
CEO:       ✔ 通过
```

## 🔒 发布证据区规则（必须写入治理文档）

| 规则 | 要求 | 状态 | 检查人 | 日期 | 备注 |
|------|------|------|--------|------|------|
| 不可修改 | 不允许修改历史发布目录 | ⏳ | | | |
| 不可删除 | 不允许删除历史发布目录 | ⏳ | | | |
| 不可重写 | 不允许修改已发布 Tag | ⏳ | | | |
| 版本管理 | 如需修复，必须发布 v1.0.1 | ⏳ | | | |

## 🧠 执行流程

### RC 阶段
1. 使用本清单逐项检查
2. 所有报告提前准备
3. 记录检查结果和负责人

### RC 通过后
1. 生成 `releases/v1.0.0/` 目录
2. 归档所有报告
3. 打正式 Tag
4. 宣布 GA

## 🎯 专业级做法的优势

- **完整证据链**：所有发布过程都有文档记录
- **可审计性**：满足企业级审计要求
- **可追溯性**：版本历史清晰可查
- **可扩展性**：文档体系可随项目发展扩展

## 📝 版本信息

| 信息 | 内容 |
|------|------|
| 文档版本 | v1.0.0 |
| 最后更新 | 2026-02-21 |
| 负责人 | @yinglichina8848 |
| 适用版本 | SQLRustGo v1.0.0 |
